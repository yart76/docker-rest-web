---
# Install docker_rest_web

# Synchronize source code when not deploying to vagrant
- name: Sync source code
  when: not vagrant_box
  synchronize: src={{ user_src_path }} dest=/opt/www delete=yes

- name: Install dependencies
  apt: pkg={{ item }} state=present
  with_items:
   - python3-venv

- name: Install virtualenv
  pip: name=virtualenv state=present

- name: Install requirements
  pip: requirements=/opt/www/requirements.txt virtualenv=/opt/www/venv
